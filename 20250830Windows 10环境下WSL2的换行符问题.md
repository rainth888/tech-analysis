## ğŸ” **Windows 10 vs Windows 11 WSL2 å·®å¼‚åˆ†æ**

ä½ çš„è§‚å¯Ÿå¾ˆæœ‰ä»·å€¼ï¼è¿™ç¡®å®åæ˜ äº†ä¸åŒWindowsç‰ˆæœ¬ä¸‹WSL2çš„é»˜è®¤è¡Œä¸ºå·®å¼‚ã€‚

### ï¿½ï¿½ **é—®é¢˜å¯¹æ¯”åˆ†æ**

| ç¯å¢ƒ | è¡Œä¸º | æ¢è¡Œç¬¦ | çŠ¶æ€ |
|------|------|--------|------|
| **Windows 11 + WSL2** | è‡ªåŠ¨å¤„ç† | LF | âœ… æ­£å¸¸ |
| **Windows 10 + WSL2** | ä¸å¤„ç† | CRLF | âŒ å¼‚å¸¸ |

### ï¿½ï¿½ **æ ¹æœ¬åŸå› åˆ†æ**

1. **WSL2ç‰ˆæœ¬å·®å¼‚**ï¼š
   - Windows 11 é»˜è®¤ä½¿ç”¨æ›´æ–°çš„WSL2ç‰ˆæœ¬
   - Windows 10 å¯èƒ½ä½¿ç”¨è¾ƒæ—§çš„WSL2ç‰ˆæœ¬

2. **Gité»˜è®¤é…ç½®å·®å¼‚**ï¼š
   - Windows 11 çš„Gitå¯èƒ½é»˜è®¤é…ç½®æ›´æ™ºèƒ½
   - Windows 10 çš„Gitå¯èƒ½ä½¿ç”¨ä¼ ç»Ÿçš„CRLFå¤„ç†

3. **WSL2æ–‡ä»¶ç³»ç»ŸæŒ‚è½½å·®å¼‚**ï¼š
   - ä¸åŒç‰ˆæœ¬å¯¹Windows/Linuxæ–‡ä»¶ç³»ç»Ÿäº’æ“ä½œçš„å¤„ç†ä¸åŒ

### ğŸ”§ **å½»åº•è§£å†³æ–¹æ¡ˆ**

#### **æ–¹æ¡ˆ1ï¼šæ£€æŸ¥å¹¶ä¿®å¤Gité…ç½®ï¼ˆæ¨èï¼‰**

åœ¨Windows 10çš„WSL2ä¸­æ‰§è¡Œï¼š

```bash
# æ£€æŸ¥å½“å‰Gité…ç½®
git config --global --list | grep core

# å¦‚æœæ˜¾ç¤ºcore.autocrlf=trueï¼Œè¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨
# ä¿®å¤é…ç½®
git config --global core.autocrlf false
git config --global core.eol lf

# éªŒè¯ä¿®å¤
git config --global core.autocrlf
git config --global core.eol
```

#### **æ–¹æ¡ˆ2ï¼šæ£€æŸ¥WSL2ç‰ˆæœ¬å¹¶å‡çº§**

```bash
# æ£€æŸ¥WSLç‰ˆæœ¬
wsl --version

# æ£€æŸ¥WSL2ç‰ˆæœ¬
wsl --list --verbose

# å¦‚æœç‰ˆæœ¬è¾ƒæ—§ï¼Œå‡çº§WSL2
wsl --update
```

#### **æ–¹æ¡ˆ3ï¼šåˆ›å»º.editorconfigæ–‡ä»¶**

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.editorconfig`æ–‡ä»¶ï¼š

```ini
# .editorconfig
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.{sh,bash,py,c,cpp,h,hpp,js,jsx,ts,tsx,vue}]
end_of_line = lf

[*.{bat,cmd}]
end_of_line = crlf
```

#### **æ–¹æ¡ˆ4ï¼šæ£€æŸ¥WSL2é…ç½®æ–‡ä»¶**

åœ¨Windows 10ä¸­åˆ›å»º/ä¿®æ”¹`%USERPROFILE%\.wslconfig`ï¼š

```ini
[wsl2]
# ç¡®ä¿ä½¿ç”¨UTF-8ç¼–ç 
locale=C.UTF-8
# æ–‡ä»¶ç³»ç»ŸæŒ‚è½½é€‰é¡¹
automount.options="metadata,umask=22,fmask=11"
```

### ğŸ› ï¸ **ç«‹å³ä¿®å¤æ­¥éª¤**

#### **æ­¥éª¤1ï¼šä¿®å¤Gité…ç½®**
```bash
# åœ¨Windows 10çš„WSL2ä¸­æ‰§è¡Œ
cd /mnt/g/ax630c_ipc_AX620E_SDK/beilu_ax630c_ipc_AX620E_SDK

# ä¿®å¤Gité…ç½®
git config --global core.autocrlf false
git config --global core.eol lf

# æ¸…ç†å¹¶é‡æ–°å…‹éš†ï¼ˆå¦‚æœéœ€è¦ï¼‰
cd ..
rm -rf beilu_ax630c_ipc_AX620E_SDK
git clone <your-repo-url> beilu_ax630c_ipc_AX620E_SDK
```

#### **æ­¥éª¤2ï¼šæ£€æŸ¥ç°æœ‰æ–‡ä»¶**
```bash
cd beilu_ax630c_ipc_AX620E_SDK

# æ£€æŸ¥æ‰€æœ‰è„šæœ¬æ–‡ä»¶æ ¼å¼
find . -name "*.sh" -exec file {} \;

# æ‰¹é‡ä¿®å¤CRLFé—®é¢˜
find . -name "*.sh" -exec dos2unix {} \;
```

#### **æ­¥éª¤3ï¼šé‡æ–°ç¼–è¯‘**
```bash
cd app/demo/FRTDemo
make clean all install -j8
```

### ï¿½ï¿½ **è¯Šæ–­å‘½ä»¤**

åœ¨Windows 10çš„WSL2ä¸­è¿è¡Œè¿™äº›å‘½ä»¤æ¥è¯Šæ–­é—®é¢˜ï¼š

```bash
# æ£€æŸ¥WSL2ç‰ˆæœ¬
wsl --version

# æ£€æŸ¥Gitç‰ˆæœ¬å’Œé…ç½®
git --version
git config --global --list

# æ£€æŸ¥æ–‡ä»¶ç³»ç»ŸæŒ‚è½½
mount | grep -i windows

# æ£€æŸ¥ç¯å¢ƒå˜é‡
env | grep -i wsl
```

### ğŸ“ **é¢„é˜²æªæ–½**

1. **åœ¨Windows 10ä¸Šè®¾ç½®Git**ï¼š
   ```bash
   git config --global core.autocrlf false
   git config --global core.eol lf
   ```

2. **ä½¿ç”¨.editorconfigæ–‡ä»¶**ï¼šç¡®ä¿æ‰€æœ‰ç¼–è¾‘å™¨éƒ½éµå¾ªç›¸åŒçš„æ¢è¡Œç¬¦è§„åˆ™

3. **å®šæœŸæ£€æŸ¥**ï¼šåœ¨ç¼–è¯‘å‰æ£€æŸ¥è„šæœ¬æ–‡ä»¶æ ¼å¼

4. **è€ƒè™‘å‡çº§**ï¼šå¦‚æœå¯èƒ½ï¼Œè€ƒè™‘å‡çº§åˆ°Windows 11ä»¥è·å¾—æ›´å¥½çš„WSL2æ”¯æŒ

### ğŸ¯ **æ¨èæ‰§è¡Œé¡ºåº**

1. **ç«‹å³ä¿®å¤Gité…ç½®**
2. **æ£€æŸ¥å¹¶ä¿®å¤ç°æœ‰æ–‡ä»¶**
3. **é‡æ–°ç¼–è¯‘é¡¹ç›®**
4. **è®¾ç½®.editorconfigé¢„é˜²æªæ–½**
5. **è€ƒè™‘WSL2å‡çº§**

è¿™æ ·åº”è¯¥èƒ½å½»åº•è§£å†³Windows 10ç¯å¢ƒä¸‹WSL2çš„æ¢è¡Œç¬¦é—®é¢˜ï¼Œè®©ä½ çš„å¼€å‘ç¯å¢ƒä¸Windows 11ä¿æŒä¸€è‡´çš„è¡Œä¸ºã€‚


## ï¿½ï¿½ **é—®é¢˜åˆ†æï¼šGité…ç½®ç¼ºå¤±**

ä½ çš„WSL2ç¯å¢ƒä¸­æ²¡æœ‰Gitå…¨å±€é…ç½®æ–‡ä»¶ï¼Œè¿™è¯´æ˜Gitå¯èƒ½æ²¡æœ‰æ­£ç¡®åˆå§‹åŒ–ï¼Œæˆ–è€…é…ç½®è·¯å¾„æœ‰é—®é¢˜ã€‚

### âŒ **å½“å‰çŠ¶æ€**
- Gitå…¨å±€é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼š`/home/bill/.gitconfig`
- è¿™æ„å‘³ç€Gitä½¿ç”¨é»˜è®¤é…ç½®ï¼Œå¯èƒ½åŒ…å«CRLFè½¬æ¢

### ğŸ”§ **ç«‹å³ä¿®å¤æ­¥éª¤**

#### **æ­¥éª¤1ï¼šåˆå§‹åŒ–Gité…ç½®**
```bash
# åœ¨WSL2ä¸­æ‰§è¡Œ
cd /mnt/g/ax630c_ipc_AX630c_ipc_AX620E_SDK/beilu_ax630c_ipc_AX620E_SDK

# è®¾ç½®Gitç”¨æˆ·ä¿¡æ¯ï¼ˆå¦‚æœè¿˜æ²¡æœ‰è®¾ç½®ï¼‰
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"

# è®¾ç½®æ ¸å¿ƒé…ç½®
git config --global core.autocrlf false
git config --global core.eol lf

# éªŒè¯é…ç½®
git config --global --list
```

#### **æ­¥éª¤2ï¼šæ£€æŸ¥Gitæ˜¯å¦å®‰è£…**
```bash
# æ£€æŸ¥Gitç‰ˆæœ¬
git --version

# å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå®‰è£…Git
sudo apt update
sudo apt install git
```

#### **æ­¥éª¤3ï¼šæ£€æŸ¥Gité…ç½®è·¯å¾„**
```bash
# æ£€æŸ¥Gité…ç½®è·¯å¾„
git config --global --show-origin core.autocrlf
git config --global --show-origin core.eol

# æ£€æŸ¥é…ç½®æ–‡ä»¶ä½ç½®
git config --global --list --show-origin
```

### ğŸ› ï¸ **å®Œæ•´ä¿®å¤æµç¨‹**

#### **æ–¹æ¡ˆ1ï¼šé‡æ–°åˆå§‹åŒ–Gité…ç½®**
```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•
cd /mnt/g/ax630c_ipc_AX630c_ipc_AX620E_SDK/beilu_ax630c_ipc_AX620E_SDK

# åˆ é™¤å¯èƒ½æŸåçš„Gité…ç½®
rm -rf .git

# é‡æ–°åˆå§‹åŒ–Gitä»“åº“
git init

# è®¾ç½®è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
git remote add origin <your-repo-url>

# è®¾ç½®æ­£ç¡®çš„Gité…ç½®
git config --global core.autocrlf false
git config --global core.eol lf
git config --global core.filemode false

# éªŒè¯é…ç½®
git config --global --list
```

#### **æ–¹æ¡ˆ2ï¼šæ£€æŸ¥WSL2ç¯å¢ƒå˜é‡**
```bash
# æ£€æŸ¥WSL2ç¯å¢ƒ
echo $WSL_DISTRO_NAME
echo $WSL_INTEROP
echo $HOME

# æ£€æŸ¥Gitç¯å¢ƒ
which git
git --exec-path
```

#### **æ–¹æ¡ˆ3ï¼šæ‰‹åŠ¨åˆ›å»ºGité…ç½®**
```bash
# åˆ›å»ºGité…ç½®ç›®å½•
mkdir -p ~/.config/git

# åˆ›å»ºå…¨å±€é…ç½®æ–‡ä»¶
cat > ~/.gitconfig << 'EOF'
[core]
    autocrlf = false
    eol = lf
    filemode = false
[user]
    name = Your Name
    email = your.email@example.com
EOF

# éªŒè¯é…ç½®
git config --global --list
```

### ğŸ” **è¯Šæ–­å‘½ä»¤**

è¿è¡Œè¿™äº›å‘½ä»¤æ¥è¿›ä¸€æ­¥è¯Šæ–­é—®é¢˜ï¼š

```bash
# æ£€æŸ¥WSL2ç‰ˆæœ¬å’ŒçŠ¶æ€
wsl --version
wsl --list --verbose

# æ£€æŸ¥æ–‡ä»¶ç³»ç»ŸæŒ‚è½½
mount | grep -i windows

# æ£€æŸ¥Gitå®‰è£…çŠ¶æ€
dpkg -l | grep git

# æ£€æŸ¥ç¯å¢ƒå˜é‡
env | grep -i git
env | grep -i wsl
```

### ğŸ“ **æ¨èæ‰§è¡Œé¡ºåº**

1. **æ£€æŸ¥Gitå®‰è£…çŠ¶æ€**
2. **åˆå§‹åŒ–Gité…ç½®**
3. **è®¾ç½®æ­£ç¡®çš„æ¢è¡Œç¬¦é…ç½®**
4. **éªŒè¯é…ç½®ç”Ÿæ•ˆ**
5. **é‡æ–°ç¼–è¯‘é¡¹ç›®**

### ğŸ¯ **é¢„æœŸç»“æœ**

ä¿®å¤åï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š
```bash
git config --global --list | grep core
core.autocrlf=false
core.eol=lf
```

è¿™æ ·å°±èƒ½è§£å†³Windows 10 WSL2ç¯å¢ƒä¸‹çš„æ¢è¡Œç¬¦é—®é¢˜ï¼Œè®©ä½ çš„ç¼–è¯‘ç»“æœä¸Windows 11ç¯å¢ƒä¿æŒä¸€è‡´ã€‚

è¯·å…ˆæ‰§è¡Œæ­¥éª¤1ï¼Œç„¶åå‘Šè¯‰æˆ‘ç»“æœï¼Œæˆ‘ä¼šæ ¹æ®å…·ä½“æƒ…å†µç»§ç»­æŒ‡å¯¼ã€‚


# ***************************************************************************************************************************
## ï¿½ï¿½ **é—®é¢˜é‡æ–°åˆ†æï¼šéGitåŸå› çš„æ¢è¡Œç¬¦é—®é¢˜**

ä½ è¯´å¾—å¯¹ï¼æ—¢ç„¶ä¸¤ä¸ªç”µè„‘éƒ½æ²¡æœ‰åœ¨WSL2ä¸‹ä½¿ç”¨Gitï¼Œé‚£ä¹ˆæ¢è¡Œç¬¦é—®é¢˜ç¡®å®æœ‰å…¶ä»–åŸå› ã€‚

### âŒ **æ’é™¤Gité…ç½®å› ç´ **
- Windows 11 + WSL2ï¼šæ­£å¸¸ï¼ˆLFæ¢è¡Œç¬¦ï¼‰
- Windows 10 + WSL2ï¼šå¼‚å¸¸ï¼ˆCRLFæ¢è¡Œç¬¦ï¼‰

### ğŸ” **å¯èƒ½çš„åŸå› åˆ†æ**

#### **1. WSL2ç‰ˆæœ¬å·®å¼‚**
```bash
# åœ¨ä¸¤ä¸ªWSL2ç¯å¢ƒä¸­åˆ†åˆ«æ£€æŸ¥
wsl --version
wsl --list --verbose
```

#### **2. WSL2é…ç½®æ–‡ä»¶å·®å¼‚**
æ£€æŸ¥Windowsç”¨æˆ·ç›®å½•ä¸‹çš„`.wslconfig`æ–‡ä»¶ï¼š
- Windows 11: `%USERPROFILE%\.wslconfig`
- Windows 10: `%USERPROFILE%\.wslconfig`

#### **3. WSL2æ–‡ä»¶ç³»ç»ŸæŒ‚è½½å·®å¼‚**
```bash
# åœ¨ä¸¤ä¸ªWSL2ç¯å¢ƒä¸­åˆ†åˆ«æ£€æŸ¥
mount | grep -i windows
env | grep -i wsl
```

#### **4. ç¼–è¯‘å™¨/å·¥å…·é“¾å·®å¼‚**
```bash
# æ£€æŸ¥ç¼–è¯‘å·¥å…·ç‰ˆæœ¬
gcc --version
make --version
```

### ğŸ”§ **è§£å†³æ–¹æ¡ˆ**

#### **æ–¹æ¡ˆ1ï¼šæ£€æŸ¥å¹¶ä¿®å¤WSL2é…ç½®**

åœ¨Windows 10ä¸­åˆ›å»º/ä¿®æ”¹`%USERPROFILE%\.wslconfig`ï¼š

```ini
[wsl2]
# å¼ºåˆ¶ä½¿ç”¨UTF-8ç¼–ç 
locale=C.UTF-8
# æ–‡ä»¶ç³»ç»ŸæŒ‚è½½é€‰é¡¹
automount.options="metadata,umask=22,fmask=11"
# ç½‘ç»œè®¾ç½®
networkingMode=mirrored
# å†…å­˜è®¾ç½®
memory=4GB
```

#### **æ–¹æ¡ˆ2ï¼šåœ¨WSL2ä¸­è®¾ç½®ç¯å¢ƒå˜é‡**

åœ¨Windows 10çš„WSL2ä¸­ï¼š

```bash
# æ·»åŠ åˆ° ~/.bashrc
echo 'export LANG=C.UTF-8' >> ~/.bashrc
echo 'export LC_ALL=C.UTF-8' >> ~/.bashrc
echo 'export WSLENV=LANG/LC_ALL' >> ~/.bashrc

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc
```

#### **æ–¹æ¡ˆ3ï¼šæ£€æŸ¥æ–‡ä»¶ç³»ç»ŸæŒ‚è½½**

åœ¨Windows 10çš„WSL2ä¸­ï¼š

```bash
# æ£€æŸ¥å½“å‰æŒ‚è½½
mount | grep -i windows

# å¦‚æœçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æŒ‚è½½ï¼š
# C: on /mnt/c type drvfs (rw,noatime,uid=1000,gid=1000,metadata,umask=22,fmask=11)

# æ£€æŸ¥æ˜¯å¦æœ‰metadataé€‰é¡¹
```

#### **æ–¹æ¡ˆ4ï¼šä½¿ç”¨dos2unixæ‰¹é‡ä¿®å¤**

åœ¨Windows 10çš„WSL2ä¸­ï¼š

```bash
cd /mnt/g/ax630c_ipc_AX630c_ipc_AX620E_SDK/beilu_ax630c_ipc_AX620E_SDK

# å®‰è£…dos2unixï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
sudo apt update
sudo apt install dos2unix

# æ‰¹é‡ä¿®å¤æ‰€æœ‰è„šæœ¬æ–‡ä»¶
find . -name "*.sh" -exec dos2unix {} \;
find . -name "*.py" -exec dos2unix {} \;
find . -name "*.conf" -exec dos2unix {} \;

# é‡æ–°ç¼–è¯‘
cd app/demo/FRTDemo
make clean all install -j8
```

### ï¿½ï¿½ï¸ **è¯Šæ–­æ­¥éª¤**

#### **æ­¥éª¤1ï¼šå¯¹æ¯”ä¸¤ä¸ªç¯å¢ƒ**
```bash
# åœ¨Windows 10çš„WSL2ä¸­æ‰§è¡Œ
wsl --version
mount | grep -i windows
env | grep -i wsl
```

#### **æ­¥éª¤2ï¼šæ£€æŸ¥æ–‡ä»¶æ ¼å¼**
```bash
# åœ¨ç¼–è¯‘å‰æ£€æŸ¥æºæ–‡ä»¶
find . -name "*.sh" -exec file {} \;

# åœ¨ç¼–è¯‘åæ£€æŸ¥ç”Ÿæˆæ–‡ä»¶
find /mnt/g/ax630c_ipc_AX630c_ipc_AX620E_SDK/beilu_ax630c_ipc_AX620E_SDK/msp/out/arm64_glibc/bin/FRTDemo -name "*.sh" -exec file {} \;
```

#### **æ­¥éª¤3ï¼šæ£€æŸ¥Makefile**
```bash
# æ£€æŸ¥Makefileä¸­æ˜¯å¦æœ‰ç‰¹æ®Šçš„æ–‡ä»¶å¤„ç†
grep -r "dos2unix\|sed.*s/\\r" .
grep -r "chmod\|chown" .
```

### ğŸ¯ **æ¨èè§£å†³æ–¹æ¡ˆ**

1. **ç«‹å³ä¿®å¤**ï¼šä½¿ç”¨dos2unixæ‰¹é‡ä¿®å¤ç°æœ‰æ–‡ä»¶
2. **æ ¹æœ¬è§£å†³**ï¼šæ£€æŸ¥å¹¶ä¿®å¤WSL2é…ç½®æ–‡ä»¶
3. **é¢„é˜²æªæ–½**ï¼šåœ¨ç¼–è¯‘è„šæœ¬ä¸­æ·»åŠ è‡ªåŠ¨è½¬æ¢

### ğŸ“ **é•¿æœŸé¢„é˜²**

åœ¨Makefileä¸­æ·»åŠ è‡ªåŠ¨è½¬æ¢è§„åˆ™ï¼š

```makefile
# åœ¨installç›®æ ‡ä¸­æ·»åŠ 
install:
	@echo "Installing FRTDemo..."
	@mkdir -p $(DESTDIR)/opt/bin/FRTDemo
	@cp -r * $(DESTDIR)/opt/bin/FRTDemo/
	@find $(DESTDIR)/opt/bin/FRTDemo -name "*.sh" -exec dos2unix {} \;
	@chmod +x $(DESTDIR)/opt/bin/FRTDemo/run.sh
```

è¿™æ ·å°±èƒ½ç¡®ä¿æ— è®ºWSL2ç¯å¢ƒå¦‚ä½•ï¼Œç”Ÿæˆçš„è„šæœ¬æ–‡ä»¶éƒ½æ˜¯æ­£ç¡®çš„LFæ ¼å¼ã€‚

è¯·å…ˆå°è¯•æ–¹æ¡ˆ4ï¼ˆdos2unixæ‰¹é‡ä¿®å¤ï¼‰ï¼Œç„¶åå‘Šè¯‰æˆ‘ç»“æœï¼Œæˆ‘ä¼šç»§ç»­æŒ‡å¯¼ä¸‹ä¸€æ­¥ã€‚


æˆ‘æœ‰ä¸¤ä¸ªç”µè„‘ï¼Œä¸€ä¸ªå°å¼æœºï¼Œæ“ä½œç³»ç»Ÿæ˜¯windows11ï¼Œä½¿ç”¨wsl2ç¼–è¯‘çˆ±èŠ¯å…ƒæ™ºax630cå¼€å‘æ¿SDKä»£ç ï¼Œä¸€ä¸ªç¬”è®°æœ¬ï¼Œï¼Œæ“ä½œç³»ç»Ÿæ˜¯windows10ï¼Œä½¿ç”¨wsl2ç¼–è¯‘çˆ±èŠ¯å…ƒæ™ºax630cå¼€å‘æ¿SDKä»£ç ï¼Œç°åœ¨å‘ç°ä½¿ç”¨ç¬”è®°æœ¬ä¸‹çš„wsl2ç¼–è¯‘å‡ºæ¥çš„ä»£ç shellæ–‡ä»¶ï¼Œæ˜¯å¸¦æœ‰windowæ¢è¡Œç¬¦çš„ï¼Œå¯¼è‡´åœ¨å¼€å‘æ¿ä¸Šä¸èƒ½è¯†åˆ«ï¼Œä¸èƒ½æ­£å¸¸è¿è¡Œã€‚
æ–‡æ¡£E:\_projects\ax-ipcdemo-webserver\logs\log20250830111200.mdæ˜¯ä¸¤ä¸ªç”µè„‘çš„ç¯å¢ƒçš„å¯¹æ¯”ï¼Œå¸®æˆ‘åˆ†æå…¶ä¸­çš„åŸå› ï¼Œä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œè¿˜éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Œæˆ‘éƒ½å¯ä»¥æä¾›ã€‚
# ä¸¤ä¸ªç”µè„‘ç¯å¢ƒæ¯”å¯¹ï¼š

# ç¬”è®°æœ¬ç”µè„‘
```
bill@DESKTOP-8JIT3TR:~$ wsl --version
Unknown command: --version
WSL
Wsman Shell commandLine, version 0.2.1

USAGE: wsl COMMAND [PARAMS...]

COMMANDS:
identify  - WS-Identify
enum      - WS-Enumerate
get       - WS-Get
put       - WS-Put
invoke    - WS-Invoke
xclean    - Delete all files generated by this tool set
xcred     - Create or display credential file
xcert     - Get server certificate (saved to <IPADDRESS>.crt)

PARAMS specification is specific to a COMMAND.

Output will be saved to ./response.xml. If you want to run parallel
executions in the same directory, define RTFILEPREFIX in the environment.
Doing so may significantly increase files generated.

Requires: curl, xmllint, GNU core utilities.
Optional: xsltproc for output formatting, gpg for encrypted credential.
Optional: wget as alternate for curl when not available.
bill@DESKTOP-8JIT3TR:~$ wsl --list --verbose
Unknown command: --list
WSL
Wsman Shell commandLine, version 0.2.1

USAGE: wsl COMMAND [PARAMS...]

COMMANDS:
identify  - WS-Identify
enum      - WS-Enumerate
get       - WS-Get
put       - WS-Put
invoke    - WS-Invoke
xclean    - Delete all files generated by this tool set
xcred     - Create or display credential file
xcert     - Get server certificate (saved to <IPADDRESS>.crt)

PARAMS specification is specific to a COMMAND.

Output will be saved to ./response.xml. If you want to run parallel
executions in the same directory, define RTFILEPREFIX in the environment.
Doing so may significantly increase files generated.

Requires: curl, xmllint, GNU core utilities.
Optional: xsltproc for output formatting, gpg for encrypted credential.
Optional: wget as alternate for curl when not available.
bill@DESKTOP-8JIT3TR:~$ mount | grep -i windows
bill@DESKTOP-8JIT3TR:~$ env | grep -i wsl
WSL_INTEROP=/run/WSL/338_interop
WSL_DISTRO_NAME=Ubuntu-18.04
PATH=/mnt/g/ax630c_ipc_AX620E_SDK/gcc-arm-9.2-2019.12-x86_64-aarch64-none-linux-gnu/bin:/home/bill/.nvm/versions/node/v16.20.2/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/WindowsApps/CanonicalGroupLimited.Ubuntu18.04LTS_1804.6.4.0_x64__79rhkp1fndgsc:/mnt/c/Program Files/Common Files/Oracle/Java/javapath:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Program Files/TortoiseSVN/bin:/mnt/c/Windows/System32/OpenSSH:/mnt/c/Windows/System32/WindowsPowerShell/v1.0:/mnt/c/Program Files/Redis/:/mnt/c/Program Files (x86)/Tencent/wechatIDE/dll:/mnt/c/Program Files (x86)/Microsoft SQL Server/110/DTS/Binn/:/mnt/c/Program Files/Microsoft SQL Server/110/DTS/Binn/:/mnt/c/Program Files (x86)/Microsoft SQL Server/110/Tools/Binn/:/mnt/c/Program Files/Microsoft SQL Server/110/Tools/Binn/:/mnt/c/Program Files (x86)/Microsoft SQL Server/110/Tools/Binn/ManagementStudio/:/mnt/c/Program Files (x86)/Microsoft Visual Studio 10.0/Common7/IDE/PrivateAssemblies/:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/Python/Python311/Scripts/:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/Python/Python311/:/mnt/c/apache-maven-3.9.9/bin:/mnt/c/Program Files/Java/jdk-21/bin:/mnt/c/Program Files (x86)/XELive/64bit/bin:/mnt/c/Program Files/Java/jdk-21/jre/bin:/mnt/c/Program Files (x86)/Sybase/Shared/PowerBuilder/:/mnt/c/Program Files (x86)/Sybase/SQL Anywhere 9/win32:/mnt/c/Program Files (x86)/Sybase/Shared/win32:/mnt/c/Program Files (x86)/Sybase/SQL Anywhere 9/drivers:/mnt/c/Program Files (x86)/Sybase/Shared/Sybase Central 4.3/win32:/mnt/c/Program Files (x86)/Sybase/InfoMaker 10.0/Tutorial:/mnt/c/Program Files (x86)/Sybase/Shared/Web Targets:/mnt/c/Program Files (x86)/Tencent/å¾®ä¿¡webå¼€å‘è€…å·¥å…·/dll:/mnt/c/Users/Thin'k'pa'd/AppData/Roaming/nvm:/mnt/c/Users/Thin'k'pa'd/AppData/Roaming/nvm/v14.21.3/node_modules/npm/bin:/mnt/c/Users/Thin'k'pa'd/AppData/Roaming/nvm/v14.21.3:/mnt/c/Program Files (x86)/xmake:/mnt/c/Program Files/xmake:/mnt/c/Program Files/Git/cmd:/mnt/c/Program Files (x86)/GnuWin32/bin:/mnt/e/Software/Android/platform-tools-latest-windows/platform-tools:/mnt/d/Espressif/frameworks/esp-idf-v5.4/tools:/mnt/d/Espressif/python_env/idf5.4_py3.11_env/Scripts:/mnt/d/Espressif/tools/idf-python/3.11.2:/mnt/c/Program Files/Tesseract-OCR:/mnt/c/Program Files/CMake/bin:/mnt/c/mingw64/bin:/mnt/d/mingw64-posix/bin:/mnt/d/mingw64/bin:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/PowerShell/7/:/mnt/c/Program Files/Void/bin:/mnt/d/Cadence/SPB_16.6/openaccess/bin/win32/opt:/mnt/d/Cadence/SPB_16.6/tools/capture:/mnt/d/Cadence/SPB_16.6/tools/pspice:/mnt/d/Cadence/SPB_16.6/tools/specctra/bin:/mnt/d/Cadence/SPB_16.6/tools/fet/bin:/mnt/d/Cadence/SPB_16.6/tools/libutil/bin:/mnt/d/Cadence/SPB_16.6/tools/bin:/mnt/d/Cadence/SPB_16.6/tools/pcb/bin:/mnt/c/Program Files/MySQL/MySQL Shell 8.0/bin/:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Microsoft/WindowsApps:/mnt/c/Program Files/JetBrains/IntelliJ IDEA 2019.2/bin:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/Fiddler:/mnt/c/Users/Thin'k'pa'd/.dotnet/tools:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Program Files/JetBrains/IntelliJ IDEA 2023.2.1/bin:/mnt/e/_OA/apache-ant-1.10.14/bin:/mnt/c/Program Files/nodejs:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Programs/cursor/resources/app/bin:/mnt/c/Users/Thin'k'pa'd/AppData/Local/Microsoft/WindowsApps:/mnt/c/program files/esafenet/cobra docguard client:/snap/bin:/mnt/d/_gk72010300/sdk/tools/toolchains/arm-gcc7.3-linux-musleabi/bin
WSLENV=
bill@DESKTOP-8JIT3TR:~$ gcc --version
gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0
Copyright (C) 2017 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

bill@DESKTOP-8JIT3TR:~$ make --version
GNU Make 4.1
Built for x86_64-pc-linux-gnu
Copyright (C) 1988-2014 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
bill@DESKTOP-8JIT3TR:~$
```

# å°å¼æœºç”µè„‘
```
bill@leiyu-pc:~$ wsl --version
Unknown command: --version
WSL
Wsman Shell commandLine, version 0.2.1

USAGE: wsl COMMAND [PARAMS...]

COMMANDS:
identify  - WS-Identify
enum      - WS-Enumerate
get       - WS-Get
put       - WS-Put
invoke    - WS-Invoke
xclean    - Delete all files generated by this tool set
xcred     - Create or display credential file
xcert     - Get server certificate (saved to <IPADDRESS>.crt)

PARAMS specification is specific to a COMMAND.

Output will be saved to ./response.xml. If you want to run parallel
executions in the same directory, define RTFILEPREFIX in the environment.
Doing so may significantly increase files generated.

Requires: curl, xmllint, GNU core utilities.
Optional: xsltproc for output formatting, gpg for encrypted credential.
Optional: wget as alternate for curl when not available.
bill@leiyu-pc:~$ wsl --list --verbose
Unknown command: --list
WSL
Wsman Shell commandLine, version 0.2.1

USAGE: wsl COMMAND [PARAMS...]

COMMANDS:
identify  - WS-Identify
enum      - WS-Enumerate
get       - WS-Get
put       - WS-Put
invoke    - WS-Invoke
xclean    - Delete all files generated by this tool set
xcred     - Create or display credential file
xcert     - Get server certificate (saved to <IPADDRESS>.crt)

PARAMS specification is specific to a COMMAND.

Output will be saved to ./response.xml. If you want to run parallel
executions in the same directory, define RTFILEPREFIX in the environment.
Doing so may significantly increase files generated.

Requires: curl, xmllint, GNU core utilities.
Optional: xsltproc for output formatting, gpg for encrypted credential.
Optional: wget as alternate for curl when not available.
bill@leiyu-pc:~$ mount | grep -i windows
bill@leiyu-pc:~$ env | grep -i wsl
PULSE_SERVER=unix:/mnt/wslg/PulseServer
WSL_INTEROP=/run/WSL/1295_interop
WSL_DISTRO_NAME=Ubuntu-18.04
WSL2_GUI_APPS_ENABLED=1
PATH=/home/bill/.nvm/versions/node/v14.21.3/bin:/mnt/e/_projects/ax-ipcdemo-webserver/gcc-arm-9.2-2019.12-x86_64-aarch64-none-linux-gnu/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.9/bin:/mnt/c/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.9/libnvvp:/mnt/c/windows/system32:/mnt/c/windows:/mnt/c/windows/System32/Wbem:/mnt/c/windows/System32/WindowsPowerShell/v1.0/:/mnt/c/windows/System32/OpenSSH/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files (x86)/Tencent/å¾®ä¿¡webå¼€å‘è€…å·¥å…·/dll:/mnt/c/Users/Administrator/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/apache-maven-3.9.9/bin:/mnt/c/Program Files/Java/jdk-21/bin:/mnt/c/Program Files/TortoiseGit/bin:/mnt/c/Program Files/Redis/:/mnt/c/Users/Administrator/AppData/Roaming/nvm:/mnt/c/Program Files/nodejs:/mnt/c/Program Files/Git/cmd:/mnt/d/_projcetme/ICT2210/GnuWin32/bin:/mnt/c/Program Files (x86)/xmake:/mnt/e/software/putty:/mnt/c/Program Files/Microsoft VS Code/bin:/mnt/c/Program Files/Tesseract-OCR:/mnt/c/Program Files/NVIDIA Corporation/Nsight Compute 2025.2.0/:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA App/NvDLISR:/mnt/c/Program Files (x86)/Microsoft Visual Studio/2022/BuildTools/MSBuild/Current/Bin:/mnt/c/Program Files/Void/bin:/mnt/c/Users/Administrator/.cargo/bin:/mnt/c/Users/Administrator/AppData/Local/Programs/Python/Python311/Scripts/:/mnt/c/Users/Administrator/AppData/Local/Programs/Python/Python311/:/mnt/c/Program Files/MySQL/MySQL Shell 8.0/bin/:/mnt/c/Users/Administrator/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/Administrator/AppData/Roaming/nvm:/mnt/c/Users/Administrator/AppData/Local/Programs/cursor/resources/app/bin:/snap/bin:/mnt/e/_gk72010300/sdk/tools/toolchains/arm-gcc7.3-linux-musleabi/bin
WSLENV=
bill@leiyu-pc:~$ gcc --version
gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0
Copyright (C) 2017 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

bill@leiyu-pc:~$ make --version
GNU Make 4.1
Built for x86_64-pc-linux-gnu
Copyright (C) 1988-2014 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
bill@leiyu-pc:~$
```

# codexç­”å¤
```
æˆ‘çœ‹åˆ°äº†å…³é”®ä¿¡å·ï¼šä½ çš„ç¬”è®°æœ¬ WSL ç¯å¢ƒæŠŠå¤§é‡ Windows å¯æ‰§è¡Œæ–‡ä»¶æ³¨å…¥åˆ°äº† PATHï¼Œä¸”æ­£åœ¨ Windows ç›˜ç¬¦ï¼ˆ/mnt/gï¼‰ä¸Šæ„å»ºã€‚è¿™ä¸¤ç‚¹ææ˜“å¯¼è‡´ç”Ÿæˆ CRLF çš„è„šæœ¬ã€‚

æ ¹å› åˆ†æ

- PATH æ±¡æŸ“ï¼šæ—¥å¿—ä¸­ PATH=.../mnt/c/.../GnuWin32/bin ... Git/cmd ... Python311 ... ç­‰å¤§é‡ Windows è·¯å¾„è¢«æ³¨å…¥åˆ° WSLã€‚æ›´æ˜æ˜¾çš„æ˜¯åœ¨ WSL é‡Œæ‰§è¡Œ wsl --version è¿”å›çš„æ˜¯ â€œWsman Shell commandLineâ€ï¼Œè¯´æ˜
Windows ä¸Šå¦ä¸€ä¸ªåä¸º wsl çš„å¯æ‰§è¡Œæ–‡ä»¶æŠ¢å…ˆåŒ¹é…äº†ã€‚è¿™ç§ PATH æ±¡æŸ“ä¼šè®©æ„å»ºé“¾æ¡é‡Œä¸ç»æ„è°ƒç”¨åˆ° Windows ç¨‹åºï¼ˆsed/awk/python/node ç­‰ï¼‰ï¼Œè¿™äº›ç¨‹åºé»˜è®¤è¾“å‡º CRLFã€‚
- Windows ç›˜æ„å»ºï¼šç¬”è®°æœ¬çš„å·¥å…·é“¾è·¯å¾„åœ¨ /mnt/g/...ï¼Œä½ å¤§æ¦‚ç‡åœ¨ Windows NTFS æŒ‚è½½ç›®å½•ä¸‹æ„å»ºã€‚å³ä¾¿å·¥å…·æ˜¯ Linux çš„ï¼Œåªè¦æŸä¸ªç¯èŠ‚è°ƒç”¨äº† Windows ç¨‹åºæˆ– Windows ç¼–è¾‘å™¨æ”¹å†™ï¼Œç›®æ ‡è„šæœ¬å°±ä¼šå˜æˆ CRLFã€‚
- Git è¡Œå°¾ç­–ç•¥ä¸ä¸€è‡´ï¼ˆé«˜æ¦‚ç‡ï¼‰ï¼šå¦‚æœä»“åº“åœ¨ Windows ä¸‹æ›¾ç”¨ core.autocrlf=true æ£€å‡ºï¼Œè„šæœ¬åœ¨ WSL å†…å°±æ˜¯ CRLF å¼€å§‹çš„ï¼Œæ„å»ºå†æŠŠè¿™äº›è„šæœ¬æ‹·è´/æ‹¼æ¥ï¼Œæœ€ç»ˆäº§ç‰©ä»æ˜¯ CRLFã€‚å°å¼æœºé‚£è¾¹å¤šåŠæ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚

ç«‹å³ä¿®å¤ï¼ˆå»ºè®®æŒ‰ä¼˜å…ˆçº§æ‰§è¡Œï¼‰

- ä»…ç”¨ Linux å·¥å…·é“¾ï¼šåœ¨ç¬”è®°æœ¬ WSL è®¾ç½®ç¦ç”¨ Windows PATH æ³¨å…¥ã€‚
    - ç¼–è¾‘ /etc/wsl.confï¼š
    [interop]
    appendWindowsPath=false
- åœ¨ Windows PowerShell æ‰§è¡Œï¼šwsl --shutdownï¼Œé‡æ–°è¿›å…¥ WSLã€‚
- æ ¡éªŒï¼šecho $PATH åº”åªå« /usrã€/binã€/home ç­‰ï¼Œä¸åº”æœ‰ /mnt/c è·¯å¾„ã€‚which sed awk python node sh å‡åº”æŒ‡å‘ WSL å†…ã€‚
- æ”¹ä¸ºåœ¨ WSL æ–‡ä»¶ç³»ç»Ÿå†…æ„å»ºï¼šæŠŠ SDK/å·¥ç¨‹ç§»åŠ¨åˆ° ~/work/...ï¼ˆext4ï¼‰ï¼Œä¸è¦åœ¨ /mnt/c|d|e|g ç­‰ Windows ç›˜ç¬¦ä¸‹æ„å»ºã€‚ä¾‹ï¼š
    - cp -a /mnt/g/ax630c_ipc_AX620E_SDK ~/sdk_ax630c
    - åœ¨ ~/sdk_ax630c é‡Œé‡æ–°æ„å»ºå¹¶éªŒè¯ç”Ÿæˆè„šæœ¬ä¸º LFï¼šfile out/*.sh æˆ– dos2unix -ic out/*.sh
- å¼ºåˆ¶ä»“åº“è„šæœ¬ä¸º LFï¼šæ·»åŠ  .gitattributes è§„èŒƒå¹¶å½’ä¸€åŒ–è¡Œå°¾ã€‚
    - åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º/è¡¥å……ï¼š
    *.sh text eol=lf
    Makefile text eol=lf
    *.mk text eol=lf
- å½’ä¸€åŒ–ä¸€æ¬¡ï¼šgit add --renormalize . && git commit -m "Normalize LF endings"
- ä¸€æ¬¡æ€§æ¸…ç†äº§ç‰©è¡Œå°¾ï¼ˆä¸´æ—¶è¡¥æ•‘ï¼‰ï¼šåœ¨è¾“å‡ºç›®å½•æ‰§è¡Œ
    - find . -type f -name '*.sh' -print0 | xargs -0 dos2unix
    - æˆ–ç”¨ sed -i 's/\r$//' file.sh

é•¿æœŸæ²»ç†

- Git é…ç½®ç»Ÿä¸€ï¼š
    - åœ¨ WSLï¼šgit config --global core.autocrlf inputï¼Œgit config --global core.eol lf
    - åœ¨ Windowsï¼ˆå¦‚éœ€åŒæ—¶ç¼–è¾‘ï¼‰ï¼šç”¨ .gitattributes å¼ºåˆ¶ LFï¼ŒWindows ç¼–è¾‘å™¨é»˜è®¤ä¿å­˜ä¸º LFã€‚
- å›ºå®š PATHï¼šåœ¨ ~/.bashrc æˆ–æ„å»ºè„šæœ¬æœ€å‰é¢åŠ ä¸€æ®µï¼Œå‰”é™¤ /mnt/ è·¯å¾„ï¼Œé¿å…è¯¯ç”¨ Windows å·¥å…·ï¼š
    - export PATH=$(printf '%s' "$PATH" | tr ':' '\n' | grep -v '^/mnt/' | paste -sd:)
- ç¡®ä¿æ„å»ºä½¿ç”¨ WSL çš„ python/node/sed/awkï¼Œä¸è¦ä» /mnt/c/Program Files/... è°ƒç”¨ã€‚

å»ºè®®ä½ æä¾›/è‡ªæ£€

- ä»“åº“æ‰€åœ¨è·¯å¾„ï¼špwd æ˜¯å¦åœ¨ /mnt/[c-z] ä¸‹ï¼Ÿ
- å“ªäº›å·¥å…·æ¥è‡ª Windowsï¼šwhich sed awk python node sh make è¾“å‡ºè·¯å¾„ã€‚
- Git è¡Œå°¾è®¾ç½®ï¼šgit config -l | grep -i crlfï¼›æ˜¯å¦å­˜åœ¨æ ¹ç›®å½• .gitattributesã€‚
- æœ‰é—®é¢˜çš„è„šæœ¬æ ·æœ¬ï¼šfile your_script.sh æ˜¯å¦æ˜¾ç¤º â€œCRLF line terminatorsâ€ã€‚

æŒ‰ä¸Šé¢çš„â€œç¦ç”¨ PATH æ³¨å…¥ + ç§»åˆ° WSL ç£ç›˜ + .gitattributes çº¦æŸâ€ç»„åˆï¼ŒåŸºæœ¬å¯ä»¥ä»æ ¹ä¸Šæ¶ˆé™¤ CRLF äº§å‡ºã€‚å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥åŸºäºä½ å½“å‰ä»“åº“è·¯å¾„ç»™å‡ºå…·ä½“è¿ç§»å’Œé…ç½®å‘½ä»¤ï¼Œå¹¶å¸®ä½ å†™ä¸€ä»½æœ€å° .gitattributesã€‚
```




















